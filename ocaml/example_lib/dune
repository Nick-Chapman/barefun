(library
 (name example_lib)
 (flags (:standard -nostdlib -nopervasives)) ; ensure we are explicit about all primitives
 (libraries prim_lib))

(rule
  (with-stdout-to example.ml
    (progn
      (echo "open Prim_lib.Prim\n")
      (echo "type 'a my_list = Nil | Cons of 'a * 'a my_list\n") ; TODO: move to example.fun
      (cat ../../example.fun)
      )))
